<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.rb.base.dao.ManageOrderListDao">
		
	<!-- 22-11-23-호식 쿼리문 수정 필요  -->
	<select id="orderListRow" resultType="Integer">
		select count(*) as ordertotlaCount from orders;
	</select>
	
	<!-- <select id="orderList" resultType="com.rb.base.model.OrderDto">
		select * from ( select row_number() over(order by o.order_seq)
		as rownum, o.order_seq, o.user_id, o.order_name, p.product_name, o.order_qty, o.order_price, o.order_date
		from orders o, product p where p.product_id = o.product_id )a 
		where <![CDATA[rownum <= #{rowCount}]]> and <![CDATA[rownum >= #{start}]]>
		order by order_seq desc;
	</select>  -->

	<select id="orderList" resultType="com.rb.base.model.OrderDto">
		select * from  ( select row_number() over(order by order_seq) as rownum, o.order_seq, o.order_name,o.user_id, p.product_name, o.order_qty,
		o.order_price, o.order_date from orders as o, product as p where  o.product_id = p.product_id order by o.order_seq desc)A
		where A.${query} like CONCAT('%',#{content},'%') 
		<!-- where A.${query} like '${content}'; -->
	</select> 
	

</mapper>

 