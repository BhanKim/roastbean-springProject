<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.rb.base.dao.MProductDao">
	
	<!-- rownum MPlist -->
	<select id="mpListrow" resultType="Integer">
		SELECT count(*) as totalCount from product as p WHERE p.product_id 
	</select>
	
	<!-- Select Product list -->
	<select id="mpList" resultType="com.rb.base.model.ProductDto">
	SELECT * FROM ( select row_number() over(order by product_id)
	as rownum, p.product_id, p.product_name, p.product_weight, p.product_info, 
	p.product_price, p.product_stock, p.product_image
	FROM product as p ) A 
	where <![CDATA[rownum <= #{rowCount}]]> and <![CDATA[rownum >= #{start}]]>
	order by product_id desc
	</select>


	<select id="mproductdetail" resultType="com.rb.base.model.ProductDto">
		select product_id, product_name, product_weight, product_info, product_price, product_stock, product_image 
		from product where product_id = #{product_id}
	</select>
	
	
</mapper>